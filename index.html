<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>ç”Ÿæ´»å°åŠ©æ‰‹ä¸«ä¸«</title>
  <style>
    body {
      font-family: "å¾®è½¯é›…é»‘", sans-serif;
      background-color: #fff6f6;
      padding: 20px;
    }
    h1 {
      text-align: center;
      color: #d16c6c;
    }
    .quote {
      text-align: center;
      margin: 20px 0;
      font-size: 18px;
    }
    .todo {
      max-width: 400px;
      margin: auto;
      background: #ffffff;
      padding: 15px;
      border-radius: 10px;
    }
    input {
      width: 70%;
      padding: 8px;
    }
    button {
      padding: 8px 12px;
      background-color: #f4a6a6;
      border: none;
      color: white;
      border-radius: 5px;
      cursor: pointer;
    }
    ul {
      padding-left: 20px;
    }
  </style>
</head>
<body>
  <div id="birthday" style="display:none; text-align:center;">
  <h1>æˆ‘æœ€æœ€äº²çˆ±çš„å¦ˆå¦ˆç”Ÿæ—¥å¿«ä¹ï¼</h1>
  <p style="font-size:18px; line-height:1.8;">
    è°¢è°¢ä½ ä¸€ç›´ä»¥æ¥çš„ä»˜å‡ºå’Œæ¸©æŸ”ã€‚<br>
    å¸Œæœ›ä»¥åçš„æ¯ä¸€å¤©ï¼Œéƒ½èƒ½è¢«å¥½å¥½å¯¹å¾…ã€‚<br><br>
    çˆ±ä½ çš„å­©å­ ğŸ’—
  </p>
</div>
  <div id="mainApp"></div>
    <h1>ç”Ÿæ´»å°åŠ©æ‰‹ä¸«ä¸«</h1>

    <div class="quote" id="quote">
      ä»Šå¤©ä¹Ÿè¦è®°å¾—ç…§é¡¾å¥½è‡ªå·± 
    </div>

    <div class="todo">
      <input id="todoInput" placeholder="æŠŠè¦åšçš„äº‹æƒ…å†™ä¸‹æ¥å§ï¼Œæˆ‘å¸®ä½ è®°ç€">
      <input id="timeInput" type="time">
      <button onclick="addTodo()">æ·»åŠ </button>
      <ul id="todoList"></ul>
    </div>
  </div>

  <script>
    const todoList = document.getElementById("todoList");
    const input = document.getElementById("todoInput");
    const timeInput = document.getElementById("timeInput");
    const quotes = [
  "æ¯ä¸€å¤©éƒ½æ˜¯æ–°çš„å¼€å§‹ï¼ŒåŠ æ²¹ï¼ ",
  "å¼€å¼€å¿ƒå¿ƒæœ€é‡è¦å“¦ ",
  "èº«ä½“ç¬¬ä¸€ä½ï¼ä»Šæ™šè¦ä¸è¦æ—©ç‚¹ç¡ï¼Ÿ ",
  "ä»Šå¤©å®œruaç°ç°ï¼ ",
  "ä»Šå¤©ä¹Ÿè¾›è‹¦å•¦ï¼ "
];

// æ ¹æ®æ—¥æœŸé€‰ä¸€å¥ï¼ˆåŒä¸€å¤©å›ºå®šï¼‰
function getTodayQuote() {
  const today = new Date().toDateString();
  let sum = 0;
  for (let i = 0; i < today.length; i++) {
    sum += today.charCodeAt(i);
  }
  return quotes[sum % quotes.length];
}

// æ˜¾ç¤ºåˆ°é¡µé¢
document.getElementById("quote").textContent = getTodayQuote();


    function loadTodos() {
    const todos = JSON.parse(localStorage.getItem("todos")) || [];
    todoList.innerHTML = "";
    todos.forEach((todo, index) => {
      const li = document.createElement("li");

      const span = document.createElement("span");
      span.textContent = todo.time
          ? `${todo.text}ï¼ˆ${todo.time}ï¼‰`
          : todo.text;
      if (todo.done) {
        span.style.textDecoration = "line-through";
        span.style.color = "#aaa";
      }

      const doneBtn = document.createElement("button");
      doneBtn.textContent = "å®Œæˆ";
      doneBtn.onclick = () => toggleDone(index);

      const delBtn = document.createElement("button");
      delBtn.textContent = "åˆ é™¤";
      delBtn.onclick = () => deleteTodo(index);

      li.appendChild(span);
      li.appendChild(doneBtn);
      li.appendChild(delBtn);
      todoList.appendChild(li);
      setReminder(todo);
    });
  }

  function addTodo() {
  if (!input.value) return;

  const todos = JSON.parse(localStorage.getItem("todos")) || [];
  todos.push({
    text: input.value,
    done: false,
    time: timeInput.value
  });

  localStorage.setItem("todos", JSON.stringify(todos));
  input.value = "";
  timeInput.value = "";
  loadTodos();
}

  function toggleDone(index) {
    const todos = JSON.parse(localStorage.getItem("todos"));
    todos[index].done = !todos[index].done;
    localStorage.setItem("todos", JSON.stringify(todos));
    loadTodos();
  }

  function deleteTodo(index) {
    const todos = JSON.parse(localStorage.getItem("todos"));
    todos.splice(index, 1);
    localStorage.setItem("todos", JSON.stringify(todos));
    loadTodos();
  }

  function setReminder(todo) {
  if (!todo.time || todo.done) return;

  const now = new Date();
  const [hour, minute] = todo.time.split(":");
  const reminderTime = new Date();
  reminderTime.setHours(hour, minute, 0, 0);

  const delay = reminderTime - now;
  if (delay > 0) {
    setTimeout(() => {
      alert(`åˆ«å¿˜äº†ï¼š${todo.text} `);
    }, delay);
  }
}
  const BIRTH_MONTH = 2; // è®°å¾—æ¯å¹´æ”¹æˆå½“å¹´çš„ç”Ÿæ—¥å¯¹åº”çš„é˜³å†æ—¥æœŸï¼
const BIRTH_DAY = 5;  

function checkBirthday() {
  const today = new Date();
  const month = today.getMonth() + 1;
  const day = today.getDate();

  if (month === BIRTH_MONTH && day === BIRTH_DAY) {
    document.getElementById("birthday").style.display = "block";
    document.getElementById("mainApp").style.display = "none";
  }
}

checkBirthday();
    loadTodos();
  </script>

</body>
</html>
